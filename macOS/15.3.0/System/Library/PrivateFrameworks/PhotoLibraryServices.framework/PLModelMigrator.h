@class PLDeviceRestoreMigrationSupport, PLGraphCache, NSDictionary, PLPhotoLibraryPathManager, PLCoreAnalyticsEventManager, NSObject, NSFileManager, PLXPCTransaction, PLThumbnailManager, NSString, PLDeviceRestoreMigrationPostProcessingSupport, PLLazyObject, NSProgress;
@protocol OS_dispatch_queue, OS_dispatch_group;

@interface PLModelMigrator : NSObject <NSProgressReporting> {
    double _startTime;
    PLXPCTransaction *_transaction;
    NSDictionary *_syncedPropertiesByUUID;
    PLThumbnailManager *_thumbnailManager;
    PLLazyObject *_lazyCoreAnalysticsEventManager;
    PLLazyObject *_lazyDeviceRestoreMigrationSupport;
    PLLazyObject *_lazyDeviceRestoreMigrationPostProcessingSupport;
    PLLazyObject *_lazyMigrationLogger;
    BOOL _didCreateSqliteErrorFileForLightweightMigration;
    BOOL _isPostProcessingLightWeightMigration;
    NSObject<OS_dispatch_queue> *_fileSystemLoadQueue;
    NSObject<OS_dispatch_group> *_fileSystemLoadGroup;
    PLLazyObject *_lazyGraphCache;
}

@property (retain, nonatomic) NSFileManager *fileManager;
@property (nonatomic) struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } containedObjectsLock;
@property (nonatomic) struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } storeMetadataLock;
@property (nonatomic) struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } lightweightMigrationLock;
@property (retain) NSProgress *progress;
@property (nonatomic) struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } recordMigrationMetadataLock;
@property BOOL didRecordCurrentMigrationMetadata;
@property (readonly, nonatomic) PLPhotoLibraryPathManager *pathManager;
@property (readonly) PLGraphCache *graphCache;
@property (readonly, getter=isCloudPhotoLibraryEnabled) BOOL cloudPhotoLibraryEnabled;
@property (copy) NSDictionary *options;
@property (readonly) PLCoreAnalyticsEventManager *analyticsEventManager;
@property (readonly, nonatomic) PLDeviceRestoreMigrationPostProcessingSupport *postProcessingToken;
@property (readonly) PLDeviceRestoreMigrationSupport *deviceRestoreMigrationSupport;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (BOOL)shouldImportAssetsFromDCIMSubDirectoryAtURL:(id)a0 assetsKind:(int *)a1;
+ (BOOL)shouldPromptUserForLibrarySchemaMismatch;
+ (id)_generateSignatureForFileAtURL:(id)a0 error:(id *)a1;
+ (BOOL)_readBooleanFlagWithKey:(id)a0 fromMetadataWithMOC:(id)a1 pathManager:(id)a2;
+ (id)_readNumberWithKey:(id)a0 fromMetadataWithMOC:(id)a1 pathManager:(id)a2 error:(id *)a3;
+ (BOOL)_writeNumber:(id)a0 forKey:(id)a1 pathManager:(id)a2 error:(id *)a3;
+ (int)currentModelVersion;
+ (BOOL)enumerateObjectsWithIncrementalSaveDefaultBatchSizeFetchRequest:(id)a0 managedObjectContext:(id)a1 count:(unsigned long long *)a2 error:(id *)a3 block:(id /* block */)a4;
+ (BOOL)executeBatchDeleteWithEntityName:(id)a0 predicate:(id)a1 managedObjectContext:(id)a2 error:(id *)a3;
+ (BOOL)executeBatchUpdateWithEntityName:(id)a0 predicate:(id)a1 propertiesToUpdate:(id)a2 managedObjectContext:(id)a3 error:(id *)a4;
+ (id)extractPathToAssetUUIDRecoveryMappingFromDatabasePath:(id)a0;
+ (BOOL)graphPersonResetRequiredForPreviousStoreVersion:(unsigned long long)a0;
+ (BOOL)markAssetsWithThumbsForTableRebuildInContext:(id)a0;
+ (BOOL)move1kResourceOutOfMastersPathIfPresentForAsset:(id)a0 pathManager:(id)a1 error:(id *)a2;
+ (BOOL)performFaceAnalysisResetWithResetLevel:(long long)a0 pathManager:(id)a1 context:(id)a2;
+ (BOOL)rebuildMomentsInContext:(id)a0 pathManager:(id)a1 deleteExistingMoments:(BOOL)a2 targetedAssetOIDs:(id)a3;
+ (BOOL)relocateOriginalExternalResource:(id)a0 asset:(id)a1 resourceIsRemotelyAvailable:(BOOL)a2 pathManager:(id)a3 error:(id *)a4;
+ (BOOL)relocateOriginalResource:(id)a0 asset:(id)a1 pathManager:(id)a2 error:(id *)a3;
+ (BOOL)resetThumbnailIndexesAndInitiateThumbnailRebuildRequestIfSuccessfulForForThumbnailManager:(id)a0 deferHintChanges:(BOOL)a1 inContext:(id)a2;
+ (id)schemaIncompatibilityDetailsForStoreMetadata:(id)a0 model:(id)a1;
+ (BOOL)shouldPromptUserForRebuildWithLibraryPathManager:(id)a0;
+ (BOOL)waitForDataMigratorToExit;

- (void).cxx_destruct;
- (id)newShortLivedLibraryWithName:(const char *)a0;
- (BOOL)_persistImportSessionAlbumType:(id)a0;
- (BOOL)_rebuildMomentsInStore:(id)a0 deleteExistingMoments:(BOOL)a1 targetedAssetOIDs:(id)a2;
- (BOOL)_unquarantinedQuarantinedItems:(id)a0;
- (void)loadFileSystemAssetsNotifyEnter;
- (void)_applySyncedProperties:(id)a0 toAsset:(id)a1;
- (void)_failed_repairSingletonObjectsInNewDatabaseWithNilContextError:(id)a0;
- (BOOL)_fixCloudMasterCloudLocalState:(id)a0;
- (void)loadFileSystemAssetsNotifyLeave;
- (id)migrationLogger;
- (BOOL)_addCameraCaptureDeviceForAssetsInStore:(id)a0;
- (BOOL)_addCloudKindSubtypeAndBurstFlagsInStore:(id)a0;
- (BOOL)_addLocalVideoKeyFrameResourceInStore:(id)a0 deferHintChanges:(BOOL)a1;
- (BOOL)_addLocationHashesToAssets:(id)a0;
- (BOOL)_addRAWPackedBadgeAttributeForAllRAWAssetsInStore:(id)a0;
- (void)_addUBFBundleScopedOrderedAssetsToImport:(id)a0 onDiskURLsToSkip:(id)a1;
- (BOOL)_addUUIDsToCollectionLists:(id)a0 skipMomentLists:(BOOL)a1;
- (BOOL)_addUUIDsToExistingKeywordsInStore:(id)a0;
- (BOOL)_applyDataProtectionToDCIMFromClassBToClassC;
- (unsigned long long)_assetCountForContext:(id)a0;
- (unsigned long long)_assetCountForLibrary:(id)a0;
- (unsigned long long)_assetCountForStore:(id)a0;
- (BOOL)_batchOfflineDeleteFromDatabaseOnlyAssets:(id)a0 inManagedObjectContext:(id)a1 error:(id *)a2;
- (BOOL)_cleanupInvalidAlbumsAndFoldersInStore:(id)a0;
- (BOOL)_cleanupLegacyFiles;
- (BOOL)_clearAvalancheUUIDOnCloudSharedAssetsWithStore:(id)a0;
- (BOOL)_convertAssetDepthStatesToDepthTypeInStore:(id)a0;
- (void)_convertImplicitDownloadAndKeepOriginalsEnabledToExplicit;
- (BOOL)_convertNameSourceFromBoolToIntForDeferredRebuildFaceInStore:(id)a0;
- (BOOL)_copyAssetDescriptionToAccessibilityDescription:(id)a0;
- (BOOL)_createImportSessionAlbums:(id)a0;
- (BOOL)_createPhotoDataDirectoryIfNecessary:(BOOL *)a0 error:(id *)a1;
- (id)_dateForFirstCRVSPhoto;
- (id)_dateForVariations;
- (id)_dateForWideGamutCapture;
- (id)_dateWithiTunesTimeInterval:(double)a0;
- (BOOL)_deleteAllMemoriesInStore:(id)a0;
- (BOOL)_deleteCloudSharedAndSynced:(BOOL)a0 assetReferencesInStore:(id)a1;
- (BOOL)_deleteEmptyFolderWithProjectRootCloudGUIDOfWrongKindInStore:(id)a0;
- (BOOL)_deleteExtraneousAdjustedFullSizeResourcesForSloMoAssetsWithStore:(id)a0;
- (BOOL)_deleteLocalVideoKeyFrameResourcesForNonVideosInStore:(id)a0 deferHintChanges:(BOOL)a1;
- (BOOL)_deleteOrphanedExtendedAttributes:(id)a0;
- (BOOL)_deleteOrphanedUnverifiedPeople:(id)a0;
- (BOOL)_deletePersistentHistoryInStore:(id)a0;
- (BOOL)_deletePersonsMissingUUIDInStore:(id)a0;
- (BOOL)_deletePhotoCloudSharingMetadataInManagedObjectContext:(id)a0 error:(id *)a1;
- (BOOL)_deletePhotoStreamAssetReferencesInStore:(id)a0;
- (BOOL)_deleteVideoThumbsMadeFromPreferredFrameInStore:(id)a0;
- (BOOL)_disableICloudPhoto;
- (BOOL)_discardUnusedCustomRenderedValuesInStore:(id)a0;
- (BOOL)_emptyResourceTablesInStagedStore:(id)a0;
- (BOOL)_ensureAllUserVerifiedPersonsHaveFaceCropsInStore:(id)a0;
- (id)_eventNameFromDate:(id)a0;
- (void)_failed_recordCurrentVersionMetadata;
- (void)_failed_repairSingletonObjectsInNewDatabaseWithNoPersistentStores;
- (void)_failed_repairSingletonObjectsInNewDatabaseWithRepairError:(id)a0;
- (void)_failed_repairSingletonObjectsWithError:(id)a0;
- (void)_failed_repairSingletonObjectsWithErrorTypeNSCoreDataError;
- (void)_failed_repairSingletonObjectsWithErrorTypeNSPersistentStoreIncompatibleSchemaError;
- (void)_failed_repairSingletonObjectsWithErrorTypeNSPersistentStoreIncompatibleVersionHashError;
- (void)_failed_repairSingletonObjectsWithErrorTypeNSPersistentStoreInvalidTypeError;
- (void)_failed_repairSingletonObjectsWithErrorTypeNSPersistentStoreOpenError;
- (void)_failed_repairSingletonObjectsWithErrorTypeNSPersistentStoreTimeoutError;
- (void)_failed_repairSingletonObjectsWithErrorTypeNSPersistentStoreTypeMismatchError;
- (void)_failed_repairSingletonObjectsWithErrorTypeOtherCoreDataError;
- (void)_failed_repairSingletonObjectsWithErrorTypeOtherPhotosError;
- (void)_failed_repairSingletonObjectsWithErrorTypeOtherSQLiteError;
- (void)_failed_repairSingletonObjectsWithErrorTypePLPhotosErrorInvalidState;
- (void)_failed_repairSingletonObjectsWithErrorTypePLPhotosErrorInvalidURL;
- (void)_failed_repairSingletonObjectsWithErrorTypePLPhotosErrorLibraryRequiresMigration;
- (void)_failed_repairSingletonObjectsWithErrorTypePLPhotosErrorLibraryTooNew;
- (void)_failed_repairSingletonObjectsWithErrorTypeSQLITE_CANTOPEN;
- (void)_failed_repairSingletonObjectsWithErrorTypeSQLITE_CORRUPT;
- (void)_failed_repairSingletonObjectsWithErrorTypeSQLITE_ERROR;
- (void)_failed_repairSingletonObjectsWithErrorTypeSQLITE_FULL;
- (void)_failed_repairSingletonObjectsWithErrorTypeSQLITE_LOCKED;
- (void)_failed_repairSingletonObjectsWithErrorTypeSQLITE_MISUSE;
- (void)_failed_repairSingletonObjectsWithErrorTypeSQLITE_NOTADB;
- (void)_failed_repairSingletonObjectsWithErrorTypeSQLITE_PERM;
- (void)_failed_repairSingletonObjectsWithInvalidDatabaseFile;
- (void)_failed_repairSingletonObjectsWithInvalidFileTypeLibraryDirectory;
- (void)_failed_repairSingletonObjectsWithMissingDatabaseFile;
- (void)_failed_repairSingletonObjectsWithMissingLibraryDirectory;
- (void)_failed_repairSingletonObjectsWithNilContextError:(id)a0;
- (void)_failed_repairSingletonObjectsWithNoPersistentStores;
- (void)_failed_repairSingletonObjectsWithRepairError:(id)a0;
- (id)_fetchRequestToIdentifyAdjustedDepthAndVariationsCandidates;
- (id)_fetchRequestToIdentifyBakedInVariationsCandidatesIncludingLongExposure:(BOOL)a0;
- (BOOL)_filterSceneClassificationsInStore:(id)a0;
- (BOOL)_fixAdjustedAssets:(id)a0;
- (BOOL)_fixAdjustedStableHashesInStore:(id)a0;
- (BOOL)_fixAlbumAndFolderSortAscending:(id)a0;
- (BOOL)_fixAssetMasterResources:(id)a0;
- (BOOL)_fixCloudSharedGIFsInStore:(id)a0;
- (BOOL)_fixCloudSharedVideosInStore:(id)a0;
- (BOOL)_fixCorruptedOrientationsInStore:(id)a0;
- (BOOL)_fixCustomRenderedValues:(id)a0;
- (BOOL)_fixDuplicatedAssets:(id)a0;
- (BOOL)_fixDuplicatedRootFolderAndOrphanedAlbumsInStore:(id)a0;
- (BOOL)_fixEmptyVideoResourcePathsInStore:(id)a0;
- (BOOL)_fixFaceAlgorithmVersion:(id)a0;
- (BOOL)_fixHasLocationSmartAlbum:(id)a0;
- (BOOL)_fixImportedAssetsFromCMMSavedInDCIMWithWrongSavedAssetType:(id)a0;
- (BOOL)_fixIncorrectAddedDateForAssetsInStore:(id)a0;
- (void)_fixIncorrectHeifMetadataForAsset:(id)a0;
- (BOOL)_fixIncorrectHeifMetadataInStore:(id)a0;
- (BOOL)_fixIncorrectThumbnailTablesInStore:(id)a0 deferHintChanges:(BOOL)a1;
- (BOOL)_fixInitialSyncMarker;
- (BOOL)_fixInvalidPostMigrationFileSystemImportedAssets:(id)a0;
- (BOOL)_fixItemIdentifierForVideoCmplInStore:(id)a0;
- (BOOL)_fixKeywordsInStagedStore:(id)a0;
- (BOOL)_fixKindSubtypeForLoopingVideoLivePhotosInStore:(id)a0;
- (BOOL)_fixLastPrefetchDateInStore:(id)a0;
- (BOOL)_fixLocalPathForVideoCmplDerivativesInStore:(id)a0;
- (BOOL)_fixLocallyAvailableFlagForThumbnailsInStore:(id)a0;
- (BOOL)_fixLocationValuesInStore:(id)a0;
- (BOOL)_fixMasterCloudLocalStateEnum:(id)a0;
- (BOOL)_fixMemoriesWithAssetLists:(id)a0;
- (BOOL)_fixMergedPeopleThatShouldBeVerified:(id)a0;
- (BOOL)_fixMovieAttributesInStore:(id)a0;
- (BOOL)_fixNilCloudMasterGUID:(id)a0;
- (BOOL)_fixNonDuplicatedAssets:(id)a0 adjusted:(BOOL)a1;
- (BOOL)_fixOriginalPropertiesForCloudSharedAssetsInStore:(id)a0;
- (void)_fixPathForResource:(id)a0 withPath:(id)a1;
- (BOOL)_fixRawWithZeroDimensions:(id)a0;
- (BOOL)_fixRejectedKeyFace:(id)a0;
- (BOOL)_fixSharedStreamVideoResourcesInStore:(id)a0;
- (BOOL)_fixSidecarUTIsAndDataStoreSubtype:(id)a0;
- (BOOL)_fixTrashedDate:(id)a0;
- (BOOL)_fixUTIForRDMigrationForAssetType:(short)a0 managedObjectContext:(id)a1 store:(id)a2;
- (BOOL)_fixUTIForRDMigrationInStore:(id)a0;
- (BOOL)_fixUTIforSlowMoInStore:(id)a0;
- (BOOL)_fixUnpushedVideoComplementResourcesInStore:(id)a0;
- (BOOL)_fixUploadedButNotRemotelyAvailalbeCPLResourcesInStore:(id)a0;
- (BOOL)_fixVideoDimensionsForAsset:(id)a0;
- (BOOL)_fixVideoDimensionsInStore:(id)a0;
- (BOOL)_fixVideoJPGPath:(id)a0;
- (BOOL)_fixVisibleBurstAsset:(id)a0;
- (BOOL)_fixWhiteBalanceValuesInStore:(id)a0;
- (BOOL)_fixWhitelistOwnerForPendingInvitationsInStore:(id)a0;
- (BOOL)_fixZeroDurationPhotoIrisWithLocalResourcesInStore:(id)a0 assumeAdjustedIrisIsVisible:(BOOL)a1;
- (BOOL)_fixZeroTrashedDateForEntityName:(id)a0 inManagedObjectContext:(id)a1;
- (BOOL)_fixupAlbumOrderInAlbumListInStore:(id)a0;
- (BOOL)_fixupAssetPersistence:(id)a0;
- (BOOL)_fixupBrokenBurstPicksInStore:(id)a0;
- (BOOL)_fixupCloudResourcesInStore:(id)a0;
- (BOOL)_fixupCroppedUnadjustedAssets:(id)a0;
- (BOOL)_fixupImportedAssetsInStore:(id)a0;
- (BOOL)_fixupImportedEventsInStore:(id)a0;
- (BOOL)_fixupResourceTypeUnknownInStore:(id)a0;
- (BOOL)_fixupSharedStreamOrientationsInStore:(id)a0;
- (BOOL)_fixupSharedVideosWithoutThumbnailsInStore:(id)a0;
- (BOOL)_fixupSyncedAssetAttributesInStore:(id)a0;
- (BOOL)_flattenUnknownCustomRenderedValues:(id)a0;
- (BOOL)_forceAlbumMetadataToDiskInStore:(id)a0;
- (BOOL)_forceSoftResetSync;
- (BOOL)_generateAddedDateForAssetsInStore:(id)a0;
- (void)_generateAlbumMetadataFromLastiTunesSyncedPlist;
- (void)_handleCreateOptionsUsingContext:(id)a0;
- (id)_iTunesPhotosLastSyncMetadata;
- (BOOL)_identifyVariationsAndDepthAdjustmentsForAsset:(id)a0;
- (BOOL)_identifyVariationsAndDepthAdjustmentsIncludingBakedInLongExposure:(BOOL)a0 inStore:(id)a1;
- (void)_importAfterCrash:(id)a0 dictionariesByPhotoStreamID:(id)a1 completionBlock:(id /* block */)a2;
- (void)_importAllDCIMAssetsInLibrary:(id)a0 progress:(id)a1 progressFraction:(id)a2 rebuildComplete:(BOOL)a3;
- (id)_importFileSystemImportAssets:(id)a0 intoLibrary:(id)a1 type:(unsigned char)a2 progress:(id)a3;
- (BOOL)_initiateLightweightReimportOfAllPhotoCloudSharingMetadataInStore:(id)a0;
- (BOOL)_invalidateReverseGeocodingDataInStore:(id)a0;
- (BOOL)_invalidateZeroHDRGainInStore:(id)a0;
- (BOOL)_isFileSystemImportRequiredForLibrary:(id)a0;
- (BOOL)_isFilesystemImportConfigurationDisabled;
- (BOOL)_isReasonableCreationDate:(id)a0;
- (void)_loadFacesFileSystemDataIntoDatabase;
- (void)_loadFileSystemDataIntoDatabaseIfNeededWithReason:(id)a0 progress:(id)a1 requestBackgroundMigrationRegistration:(BOOL *)a2;
- (id)_loadOriginalVideoMetadataFromAsset:(id)a0 timeZoneLookup:(id)a1 error:(id *)a2;
- (BOOL)_markAllProcessedAnalysisStatesDirtyForWorkerType:(short)a0 withStartingWorkerFlags:(int)a1 inStore:(id)a2;
- (BOOL)_markMigrationVerifiedTypePersonsInStore:(id)a0;
- (BOOL)_markOldPhotoIrisEditsEvaluatedInStore:(id)a0;
- (BOOL)_markPhotoIrisVideoOrphansInStore:(id)a0;
- (BOOL)_migrateAssetLocationData:(id)a0;
- (BOOL)_migrateCandidateBitsToDeferredProcessingCandidateOptions:(id)a0;
- (BOOL)_migrateCloudResourcesRelationshipsInStagedStore:(id)a0;
- (BOOL)_migrateDetectedFacesGroupInStagedStore:(id)a0;
- (int)_migrateLegacySlomoAdjustmentsForAsset:(id)a0;
- (BOOL)_migrateLegacySlomoAdjustmentsInStore:(id)a0 fromLegacySLMFormat:(BOOL)a1;
- (BOOL)_migrateMetadataAndMigrationHistoryWithStore:(id)a0;
- (BOOL)_migrateOriginalColorSpaceInStagedStore:(id)a0;
- (void)_migratePersonContactInfo;
- (BOOL)_migrateRejectedFacesGroupInStagedStore:(id)a0;
- (BOOL)_migrateResourceUTIAndCodecInStagedStore:(id)a0;
- (BOOL)_migrateTransformableUUIDsToStringsInStore:(id)a0;
- (BOOL)_migrateVersionSpecific1kResourcesInStore:(id)a0 deferHintChanges:(BOOL)a1;
- (BOOL)_migrateVideoKeyFrameTimeValuesInStagedStore:(id)a0;
- (short)_migrationHistoryOriginFromLatestDataMigration;
- (id)_migrationThumbnailManagerWithStore:(id)a0;
- (BOOL)_move1kResourcesOutOfMastersDir:(id)a0;
- (BOOL)_moveCloudSharedDerivativesInStore:(id)a0;
- (BOOL)_moveGpsHorizontalAccuracyToNewAttribute:(id)a0;
- (BOOL)_moveMyPhotoStreamToAlbumsListInStore:(id)a0;
- (id)_newSyncedPropertiesByAssetUUIDs:(BOOL)a0;
- (BOOL)_nukeWallpaperRemnantsInStore:(id)a0;
- (id)_orderedAssetsToImportInLibrary:(id)a0;
- (id)_orderedAssetsToImportInLibrary:(id)a0 cameraRollOnly:(BOOL)a1;
- (BOOL)_performChangesOnBatchFetchedObjects:(id)a0 inMOC:(id)a1 batchSize:(unsigned long long)a2 objectHandler:(id /* block */)a3 error:(id *)a4;
- (BOOL)_performMigrationCacheDateCreatedOnResources:(BOOL)a0 cacheItemIdentifierOnResources:(BOOL)a1 store:(id)a2;
- (BOOL)_persistMemoriesInStore:(id)a0;
- (BOOL)_persistMetadataToFileSystemForAlbum:(id)a0;
- (BOOL)_persistPersonsInStore:(id)a0;
- (BOOL)_persistPhotoIrisVisibilityStateToDiskInStore:(id)a0;
- (BOOL)_persistPlaceAnnotationData:(id)a0;
- (BOOL)_persistResourceTypeAttributeOnAlternateImageResourcesInStore:(id)a0;
- (BOOL)_persistStoreUUIDToMobileCPLPlist:(id)a0;
- (BOOL)_persistVideoComplPropertiesInStore:(id)a0;
- (BOOL)_populateAdjustmentTimestampsOnAssets:(id)a0;
- (BOOL)_populateAdjustmentsStateForAssetsInStore:(id)a0;
- (BOOL)_populateAlbumAndFolderOrderKeysInStagedStore:(id)a0;
- (BOOL)_populateCloudNameSourceOnFacesInStore:(id)a0;
- (BOOL)_populateCloudResourceLocalStateInStor:(id)a0;
- (BOOL)_populateCloudVerifiedTypeOnPersonsInStore:(id)a0;
- (BOOL)_populateDurationAndHDRTypeFromAdditionalAssetAttributesInStagedStore:(id)a0;
- (void)_populateFaceRegionsForAsset:(id)a0;
- (BOOL)_populateFaceRegionsInStore:(id)a0;
- (BOOL)_populateLatLongInAsset:(id)a0;
- (BOOL)_populateLightweightReimportDirectoryWithPhotoCloudSharingAssetsInManagedObjectContext:(id)a0 error:(id *)a1;
- (BOOL)_populateNilOriginalFilename:(id)a0;
- (BOOL)_populateNilOriginalFilenameOnMaster:(id)a0;
- (BOOL)_populateRepresentativeAssets:(id)a0;
- (BOOL)_populateUserKeyFacePickSourceForPersonInStore:(id)a0;
- (BOOL)_populateVideoCpFieldsInStagedStore:(id)a0;
- (BOOL)_postProcessFromVersion6006Store:(id)a0;
- (id)_predicateForInconsistentHeifAssets;
- (void)_prepareForImportDeleteCorruptAssetsWithImporter:(id)a0 context:(id)a1;
- (BOOL)_processDeletesForUUIDs:(id)a0;
- (BOOL)_purgeCloudSharedResourcesInStore:(id)a0;
- (void)_rebuildAssetsFromJournal:(id)a0 inLibrary:(id)a1 progress:(id)a2 progressFraction:(id)a3;
- (BOOL)_rebuildWideCaptureThumbsInStore:(id)a0;
- (BOOL)_reconstructImageExtendedAttributes:(id)a0;
- (void)_recordCurrentVersionMetadataIfNeededForDataMigrationInPersistentStore:(id)a0;
- (BOOL)_recordCurrentVersionMetadataInPersistentStore:(id)a0 migrationType:(long long)a1 forceRebuildReason:(id)a2 sourceModelVersion:(id)a3 updateLegacyMigrationState:(BOOL)a4 journalRebuildRequred:(BOOL)a5;
- (BOOL)_recoverSingleBurstPhotos:(id)a0;
- (BOOL)_refactorLargeVideoRecipeResourcesInStore:(id)a0;
- (BOOL)_refreshTriggerValues:(id)a0;
- (BOOL)_regenerateMonthHighlightTitlesWithStore:(id)a0;
- (BOOL)_regenerateReferenceKeyDataInStore:(id)a0;
- (BOOL)_regenerateSharedStreamsDataStoreKeysDataInStore:(id)a0 deferHintChanges:(BOOL)a1;
- (BOOL)_relocateCPLMarkerFiles;
- (BOOL)_removeAllLocalVideoKeyFrameResourcesRevert14037InStore:(id)a0;
- (BOOL)_removeAllSharedAssetDCIMFilesInStore:(id)a0;
- (BOOL)_removeAutoloopCacheIfExists;
- (BOOL)_removeAutoloopWorkerStatesInStore:(id)a0;
- (BOOL)_removeCameraRollInStore:(id)a0;
- (BOOL)_removeCloudSharedFileAtPath:(id)a0 withFileManager:(id)a1 error:(id *)a2;
- (BOOL)_removeDuplicatedCloudSharedComments:(id)a0;
- (BOOL)_removeEvents:(id)a0;
- (void)_removeFileAt:(id)a0 forResource:(id)a1;
- (BOOL)_removeInvalidAdjustmentResourceDataInStore:(id)a0;
- (BOOL)_removeInvalidImportSessionAlbums:(id)a0;
- (BOOL)_removeLegacyLocationForLibraryAtURL:(id)a0 relativePath:(id)a1 checkPath:(id)a2 error:(id *)a3;
- (BOOL)_removeOldPersonMetadataInStore:(id)a0;
- (BOOL)_removeResourceModelManualIdentityConstraintInStore:(id)a0;
- (BOOL)_removeUnneededAnalysisStateTableEntries:(id)a0;
- (BOOL)_removeUntrackedCloudResourceImageDerivativesInStore:(id)a0;
- (BOOL)_removeUntrackedPersonMetadataInStore:(id)a0;
- (BOOL)_removingDuplicatedCloudAssetGuid:(id)a0;
- (BOOL)_renumberLocalAvailabilityAndLocalAvailabilityTargetsInStore:(id)a0;
- (BOOL)_repairCTMOriginalVideosWithSOCAvailableBitInStore:(id)a0;
- (BOOL)_repairCTMOriginalVideosWithoutAdjustmentsInStore:(id)a0;
- (BOOL)_repairDuplicateSingletonFetchingAlbumsInStore:(id)a0;
- (void)_repairInProgressDCIMLockedAssetTransfersInOrderedAssetsToImport:(id)a0 baseDirectory:(id)a1 photoDataLockedAssetsURL:(id)a2 photoDataCPLAssetsURL:(id)a3 photoStreamsBaseURL:(id)a4;
- (void)_repairInProgressLockedAssetTransfersInOrderedAssetsToImport:(id)a0;
- (BOOL)_repairLegacyMigrationDuplicateVersionCloudResources:(id)a0;
- (void)_repairMetadataAndSingletonsForMigrationType:(long long)a0 forceRebuildReason:(id)a1 journalRebuildRequired:(BOOL)a2;
- (BOOL)_repairOrphanedProjectAlbumsInStore:(id)a0;
- (void)_repairPotentialModelCorruptionInLibrary:(id)a0;
- (BOOL)_repairReframedAssetsWithoutSOCAvailableBitWithStore:(id)a0;
- (BOOL)_repairTableThumbFragmentation;
- (BOOL)_repersistDuplicatedAssets:(id)a0;
- (BOOL)_repushAllUserSmartAlbum:(id)a0;
- (BOOL)_repushAssetsMatchingPredicate:(id)a0 inStore:(id)a1 withMaster:(BOOL)a2;
- (BOOL)_repushAssetsWithAnyUserConfirmedFaceInStore:(id)a0;
- (BOOL)_repushMemoriesWithNewFeaturesInStore:(id)a0;
- (BOOL)_repushPersonsWithMergeTargetInStore:(id)a0;
- (BOOL)_requestAvailabilityChangeForAssetsMissing1kResourcesInStore:(id)a0;
- (BOOL)_resetAlbumToFolderOrderKeyForAlbums:(id)a0;
- (BOOL)_resetAnalysisStateForVideosInStore:(id)a0;
- (BOOL)_resetAssetLocationShiftingAndRevGeoInStore:(id)a0;
- (BOOL)_resetDeferredRepairAdjustmentFailureAndCloudRecoveryStateInStore:(id)a0;
- (BOOL)_resetFailedAssets:(id)a0;
- (BOOL)_resetFailedCloudMasters:(id)a0;
- (BOOL)_resetLimitedLibraryFilterDataInStore:(id)a0;
- (BOOL)_resetUploadAttempts:(id)a0;
- (BOOL)_retryQuarantinedAssetsAndFixResourceRelation:(id)a0;
- (BOOL)_revalidateImportSessionDates:(id)a0;
- (BOOL)_runMigrationStepWithName:(id)a0 fetchRequest:(id)a1 store:(id)a2 migrationHandler:(id /* block */)a3;
- (BOOL)_runMigrationStepWithPrettyFunction:(const char *)a0 store:(id)a1 migrationHandler:(id /* block */)a2;
- (BOOL)_runPairingForAssetsInStore:(id)a0;
- (BOOL)_saveChangesToPhotoIrisInStore:(id)a0 matchingPredicate:(id)a1 countChanged:(unsigned long long *)a2 error:(id *)a3 changeBlock:(id /* block */)a4;
- (BOOL)_scavengeCameraProcessingAdjustmentMetadataForAssetsInStore:(id)a0;
- (BOOL)_setImportedByInPLCloudMaster:(id)a0;
- (void)_setIsPostProcessingLightWeightMigration:(BOOL)a0;
- (BOOL)_setPlaybackStyleForAnimatedGIFsInStore:(id)a0;
- (BOOL)_setUserTypeOnKeyFace:(id)a0;
- (BOOL)_setupRootFolderInStore:(id)a0;
- (BOOL)_shouldTriggerLightweightMigrationFailureForInternalTesting;
- (BOOL)_storeContainsFaceCrops:(id)a0 success:(BOOL *)a1;
- (id)_syncedPropertiesForAssetUUID:(id)a0;
- (BOOL)_tagScreenshotsForAssetsInStore:(id)a0;
- (BOOL)_trimInvalidAlbumAssetsMappingRecords;
- (BOOL)_tryToPromoteUnknownAssetsInStore:(id)a0;
- (BOOL)_unQuarantineAssetsIfPossibleInStore:(id)a0;
- (BOOL)_unquarantineClass:(Class)a0 inManagedObject:(id)a1;
- (BOOL)_updateAlbumDatesInStore:(id)a0;
- (BOOL)_updateCPLMarkerFiles;
- (void)_updateImportedSavedAssetTypeForFileSystemImportedAsset:(id)a0 type:(unsigned char)a1 importAssetKind:(int)a2 isCPLAssetsDirectory:(BOOL)a3 destinationAlbum:(id)a4;
- (BOOL)_updateKeyAssetInMemory:(id)a0;
- (BOOL)_updateKindSubtypeForPanoramaPhotosNeedsReset:(BOOL)a0 inStore:(id)a1;
- (BOOL)_updateMissingFileSystemVolumeUuidInStore:(id)a0;
- (BOOL)_updateMogulSubtypeAndSetHighFrameRateStateOnAssetsInStore:(id)a0;
- (BOOL)_updatePlaybackStylesAndVariationsInStore:(id)a0;
- (BOOL)_updatePlaybackWithBatchUpdateRequest:(id)a0 targetDescription:(id)a1 inContext:(id)a2;
- (BOOL)_updateSuggestionStartAndEndDatesInStore:(id)a0;
- (void)_validateCurrentModelVersionAttempt:(long long)a0;
- (void)_validateCurrentModelVersionFailedWithMismatchedVersion:(long long)a0;
- (void)_validateCurrentModelVersionFailedWithNoVersionFromServer;
- (BOOL)_validateOrDeleteFileAtPath:(id)a0 forCloudResource:(id)a1;
- (BOOL)_verifyAndFixBrokenLocalAvailabilityForResourceWithFileIDsInStore:(id)a0;
- (BOOL)_verifyCloudAssetsLocalAvailability:(id)a0;
- (void)applyDataProtectionToAllPhotosFilesOnce;
- (void)archiveAssetUUIDForPathPlist:(id)a0;
- (id)archivedAssetUUIDForURL:(id)a0;
- (long long)attemptLightweightMigrationFromVersion:(id)a0 onStore:(id)a1 withMetadata:(id)a2 orStoreURL:(id)a3 options:(id)a4 coordinator:(id)a5 migrationPolicy:(unsigned int)a6 error:(id *)a7;
- (long long)checkForceRebuildIndicatorFile;
- (void)cleanupModelForDataMigrationForRestoreType:(long long)a0;
- (BOOL)clearVisionWorkerCache;
- (long long)createNewDatabaseWithMigrationType:(long long)a0 forceRebuildReason:(id)a1 coordinator:(id)a2 error:(id *)a3;
- (BOOL)debug_resetThumbnailsAndInitiateRebuildRequestInStore:(id)a0;
- (BOOL)deleteAllAssetAnalysisStatesInStore:(id)a0;
- (BOOL)deleteAnalysisStatesInStore:(id)a0 forWorkerType:(short)a1;
- (void)dontImportFileSystemDataIntoDatabaseWithPhotoLibrary:(id)a0;
- (BOOL)faceQualityResetRequiredForPreviousStoreVersion:(unsigned long long)a0;
- (void)filesystemImportResultsUpdateKeywordWithImportedAssets:(id)a0;
- (BOOL)fixPossiblyIncorrectAddedDateForAsset:(id)a0;
- (BOOL)fixupStatesWithUnreachableAssetUUIDsInStore:(id)a0;
- (BOOL)fixupUnknownAnalysisStatesInStore:(id)a0;
- (id)generatePathToAssetUUIDRecoveryMapping;
- (void)handleGreenChanges:(id)a0;
- (void)importAfterCrash:(id)a0 dictionariesByPhotoStreamID:(id)a1 completionBlock:(id /* block */)a2;
- (id)initWithPathManager:(id)a0;
- (BOOL)isLoadingFacesFromFileSystem;
- (BOOL)isPhotoLibraryDatabaseReadyForOpen:(id *)a0;
- (BOOL)isPostProcessingLightweightMigration;
- (long long)legacyMigrationState;
- (void)loadFacesFileSystemDataIntoDatabase;
- (void)loadFileSystemAssetsNotifyCompleted:(id /* block */)a0;
- (void)loadFileSystemDataIntoDatabaseIfNeededWithReason:(id)a0 completionHandler:(id /* block */)a1;
- (id)managedObjectContextForMigrationInStore:(id)a0 name:(const char *)a1 concurrencyType:(unsigned long long)a2;
- (id)managedObjectContextForMigrationWithName:(const char *)a0 persistentStoreCoordinator:(id)a1 concurrencyType:(unsigned long long)a2;
- (BOOL)markAllDirtyFaceAnalysisStatesWithFaceDetectionWorkerFlagsInStore:(id)a0;
- (BOOL)markAllSceneAnalysisStatesDirtyAndClearDistanceIdentitiesInStoreAndClearSceneprints:(id)a0;
- (BOOL)markUserConfirmedFacesAndCorrespondingFaceAnalysisStatesDirtyInStore:(id)a0;
- (long long)migrateOrCreateDatabaseIfNecessaryWithPersistentContainer:(id)a0 migrationPolicy:(unsigned int)a1 error:(id *)a2;
- (void)migratePersonContactInfo;
- (BOOL)migratePurgeableResources;
- (void)migrationLoggerClose;
- (id)newDeviceRestoreMigrationSupport;
- (id)newShortLivedLibraryForRebuildWithName:(const char *)a0;
- (void)pausePhotoStreams;
- (void)postProcessFixesAfterOTARestoreForCompleteAsset:(id)a0 fixAddedDate:(BOOL)a1 isMegaBackup:(BOOL)a2;
- (BOOL)postProcessMigratedStore:(id)a0 migrationUUID:(id)a1 fromVersion:(int)a2 progress:(id)a3 progressUnitCount:(unsigned long long)a4;
- (BOOL)postProcessThumbnailsOnlyIfVersionMismatchOrMissing:(BOOL *)a0 coordinator:(id)a1;
- (BOOL)processWelterweightMigrationStageOnStore:(id)a0 migrationUUID:(id)a1 fromVersion:(int)a2 toVersion:(int)a3 migrationContext:(id)a4 progress:(id)a5 progressUnitCount:(unsigned long long)a6;
- (long long)promptUserIfNeededForRebuildReason:(id)a0 migrationError:(id)a1;
- (BOOL)rebuildAllMomentsInStore:(id)a0 deleteExistingMoments:(BOOL)a1;
- (BOOL)rebuildTargetedMomentsInStore:(id)a0 targetedAssetOIDs:(id)a1;
- (BOOL)reconsiderAllowedForAnalysisOnAssetsMarkedNotAllowedInStore:(id)a0;
- (BOOL)relocateOriginalUBFPaths:(id)a0;
- (void)removeUnpairedTimelapsePreviewsInContext:(id)a0 fromDuplicatedUUIDs:(id)a1;
- (void)repairSingletonObjectsInDatabase;
- (BOOL)resetAnalysisStateForVideosWithMoc:(id)a0;
- (BOOL)resetFaceQualityInStore:(id)a0;
- (BOOL)resetManualOrderForNonFavoritePeopleInManagedObjectContext:(id)a0;
- (BOOL)resetManualOrderForNonFavoritePeopleInStore:(id)a0;
- (BOOL)resetRejectedFacesOnAllPersonsInStore:(id)a0;
- (void)resumePhotoStreams;
- (BOOL)sceneStepRequiredForPreviousStoreVersion:(unsigned long long)a0;
- (void)setLoadingFacesFromFileSystem:(BOOL)a0;
- (BOOL)setProxyLockPath;
- (BOOL)shouldCreateDatabase;
- (BOOL)skipDataProtectionForFilePath:(id)a0;
- (BOOL)touchAnalysisStateSortTokensInStoreInStore:(id)a0;
- (BOOL)updateCompletedMigrationStateWithError:(id *)a0;
- (void)validateCurrentModelVersion;
- (BOOL)validateModelEntityNames:(out id *)a0;

@end
