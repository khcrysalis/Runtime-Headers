@class HMDMetricsPreferencesDebugManager, HMDLogEventHAPMetricsEventAnalyzer, HMDLogEventUserActivityAnalyzer, HMDLogEventCountingAnalyzer, NSNotificationCenter, HMDAppleAccountManager, HMDDiagnosticReporterLogObserver, HMDConfigurationLogEvent, NSMutableArray, HMDLogEventReachabilityEventsAnalyzer, HMDCoreDataLogEventsAnalyzer, HMDLogEventAccessoryFirmwareUpdateEventAnalyzer, HMDEventCountersManager, HMDLogEventProcessLaunchAnalyzer, HMDDevice, HMDMetricsAccessoryDetailsManager, HMDUserActivityStateDetectorLogEventAnalyzer, HMDNetworkObserver, HMDThreadNetworkObserver, HMDLogEventDailyScheduler, HMMDateProvider, HMDLogEventErrorEventsAnalyzer, HMDLogEventProcessMemoryEventsAnalyzer, HMMCoreAnalyticsLogEventObserver, HMDLogEventBulletinNotificationsAnalyzer, NSUserDefaults, HMMSiriSELFLogEventObserver, HMDLogEventMessageEventsAnalyzer, HMDHomeManager, HMMCoreAnalyticsTagObserver, NSArray, HMDLogEventElectionEventsAnalyzer, HMDTimeBasedFlagsManager, HMMCountersManager, HMDPowerLogObserver, NSString, HMDMessageDispatcher, NSObject, HMDHH2MigrationLogEventsAnalyzer, HMDWidgetTimelineRefresherEventsAnalyzer, HMDCoreAnalyticsLogEventObserverDelegate, HMDMetricsDeviceStateManager, HMFTimer, HMDHH2AutoMigrationEligibilityLogEventSubmitter, NSUUID, HMDCloudSyncLogEventsAnalyzer;
@protocol HMDUserNotificationCenterSettingsProviding, HMDEWSLogging, OS_dispatch_queue, HMMLogEventDispatching, HMDMetricsDeviceStateProvider, HMMLogEventSubmitting, HMMRadarInitiating;

@interface HMDMetricsManager : NSObject <HMFMessageReceiver, HMDLogEventDailyTaskRunner, HMFTimerDelegate, HMMLogEventDispatchingDataSource, HMDCoreAnalyticsLogEventObserverDelegateDataSource, HMDHouseholdMetricsDataSource, HMDCurrentResidentDeviceDataSource, HMDLogEventAnalyzerDataSource, HMDHH2AutoMigrationEligibilityLogEventSubmitterDataSource, HMDConfigurationLogEventWidgetDataSource> {
    NSMutableArray *_configurationObservers;
    HMMCountersManager *_bridgedCountersManager;
    struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _lock;
}

@property (class, readonly, copy) NSUUID *namespaceUUID;
@property (class, readonly, nonatomic) id<HMMRadarInitiating> defaultRadarInitiator;
@property (class, readonly, nonatomic) id<HMMLogEventSubmitting> sharedLogEventSubmitter;

@property BOOL metricsCollectionStarted;
@property (readonly, nonatomic) HMDMessageDispatcher *messageDispatcher;
@property (readonly, nonatomic) HMDAppleAccountManager *accountManager;
@property (readonly, nonatomic) id<HMDUserNotificationCenterSettingsProviding> notificationSettingsProvider;
@property (readonly, nonatomic) HMDHH2AutoMigrationEligibilityLogEventSubmitter *hh2AutoMigrationEligibilitySubmitter;
@property (readonly, nonatomic) HMDMetricsAccessoryDetailsManager *accessoryDetailsManager;
@property (readonly, nonatomic) HMDCoreAnalyticsLogEventObserverDelegate *coreAnalyticsDelegate;
@property (readonly, nonatomic) NSArray *coreAnalyticsFilters;
@property (readonly, nonatomic) HMMCoreAnalyticsLogEventObserver *coreAnalyticsObserver;
@property (readonly, nonatomic) HMDDiagnosticReporterLogObserver *diagnosticReporterLogObserver;
@property (readonly, nonatomic) HMDPowerLogObserver *powerLogObserver;
@property (readonly, nonatomic) HMMSiriSELFLogEventObserver *siriSELFLoggingObserver;
@property (readonly, nonatomic) HMDLogEventBulletinNotificationsAnalyzer *bulletinNotificationsAnalyzer;
@property (readonly, nonatomic) HMDCloudSyncLogEventsAnalyzer *cloudSyncLogEventsAnalyzer;
@property (readonly, nonatomic) HMDCoreDataLogEventsAnalyzer *coreDataLogEventsAnalyzer;
@property (readonly, nonatomic) HMDLogEventElectionEventsAnalyzer *electionEventsAnalyzer;
@property (readonly, nonatomic) HMDLogEventErrorEventsAnalyzer *errorEventsAnalyzer;
@property (readonly, nonatomic) HMDLogEventCountingAnalyzer *eventCountingAnalyzer;
@property (readonly, nonatomic) HMDLogEventHAPMetricsEventAnalyzer *hapEventsAnalyzer;
@property (readonly, nonatomic) HMDHH2MigrationLogEventsAnalyzer *hh2MigrationAnalyzer;
@property (readonly, nonatomic) HMDLogEventMessageEventsAnalyzer *messagingEventsAnalyzer;
@property (readonly, nonatomic) HMDLogEventProcessLaunchAnalyzer *processLaunchEventsAnalyzer;
@property (readonly, nonatomic) HMDLogEventProcessMemoryEventsAnalyzer *processMemoryEventsAnalyzer;
@property (readonly, nonatomic) HMDLogEventReachabilityEventsAnalyzer *reachabilityEventsAnalyzer;
@property (readonly, nonatomic) HMDLogEventUserActivityAnalyzer *userActivityEventsAnalyzer;
@property (readonly, nonatomic) HMDLogEventAccessoryFirmwareUpdateEventAnalyzer *firmwareUpdateEventsAnalyzer;
@property (readonly, nonatomic) HMDWidgetTimelineRefresherEventsAnalyzer *widgetTimelineRefresherEventsAnalyzer;
@property (readonly, nonatomic) HMDUserActivityStateDetectorLogEventAnalyzer *userActivityStateDetectorLogEventAnalyzer;
@property (readonly, nonatomic) HMDMetricsPreferencesDebugManager *preferencesDebugManager;
@property (readonly, nonatomic) HMMCoreAnalyticsTagObserver *coreAnalyticsTagObserver;
@property (readonly, nonatomic) NSMutableArray *aggregationAnalysisEventContributingAnalyzers;
@property (readonly, nonatomic) HMFTimer *backgroundLoggingTimer;
@property (readonly, copy, nonatomic) NSArray *configurationObservers;
@property (readonly, nonatomic) id<HMMRadarInitiating> radarInitiator;
@property (readonly, weak, nonatomic) id<HMDEWSLogging> ewsLogger;
@property (weak) HMDHomeManager *homeManager;
@property (readonly, nonatomic) BOOL isDemoModeConfigured;
@property (readonly, nonatomic) HMDMetricsDeviceStateManager *deviceStateManager;
@property (readonly, nonatomic) NSUUID *messageTargetUUID;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *messageReceiveQueue;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly) BOOL isSubmissionEnabled;
@property (readonly, copy, nonatomic) HMDConfigurationLogEvent *cachedConfiguration;
@property (readonly, nonatomic) id<HMDMetricsDeviceStateProvider> deviceStateProvider;
@property (readonly, nonatomic) NSString *PRKitUUIDString;
@property (readonly, nonatomic) NSString *PRKitDateString;
@property (readonly, nonatomic) HMDDevice *currentDevice;
@property (readonly, nonatomic) NSArray *devicesOnCurrentAccount;
@property (readonly, nonatomic) NSArray *homeDataSources;
@property (readonly, nonatomic) HMDNetworkObserver *networkObserver;
@property (readonly, nonatomic) HMDThreadNetworkObserver *threadNetworkObserver;
@property (readonly, nonatomic) NSUUID *homeUUIDForCurrentResidentDevice;
@property (readonly, nonatomic) HMDEventCountersManager *legacyCountersManager;
@property (readonly, nonatomic) HMDTimeBasedFlagsManager *flagsManager;
@property (readonly, nonatomic) id<HMMLogEventSubmitting> logEventSubmitter;
@property (readonly, nonatomic) id<HMMLogEventDispatching> logEventDispatcher;
@property (readonly, nonatomic) HMDLogEventDailyScheduler *dailyScheduler;
@property (readonly, nonatomic) HMMDateProvider *dateProvider;
@property (readonly, nonatomic) NSUserDefaults *userDefaults;
@property (readonly, nonatomic) NSNotificationCenter *notificationCenter;
@property (readonly, nonatomic) NSString *currentSoftwareVersion;
@property (readonly, nonatomic) BOOL isThisDeviceDesignatedFMFDevice;
@property (readonly, nonatomic) BOOL isCurrentDeviceConfirmedPrimaryResident;
@property long long configuredWidgetsCount;

+ (id)logCategory;
+ (void)submitMinimalCoreAnalyticsEvent:(id)a0;

- (void).cxx_destruct;
- (void)startMetricsCollection;
- (void)timerDidFire:(id)a0;
- (id)messageDestination;
- (void)registerTaggedLoggingProcessors;
- (void)_handleListEphemeralContainers:(id)a0;
- (BOOL)_canRunCountersManagerCommand:(id)a0;
- (void)_configureManagers;
- (void)_configureObservers;
- (void)_handleAddEphemeralContainer:(id)a0;
- (void)_handleDeactivateEphemeralContainer:(id)a0;
- (void)_handleDeleteCounters:(id)a0;
- (void)_handleDeleteEphemeralContainer:(id)a0;
- (void)_handleFetchEventCounters:(id)a0;
- (void)_handleLogEventDailySchedulerStatusRequest:(id)a0;
- (void)_handleLogEventDailySchedulerSubmitRequest:(id)a0;
- (void)_handleReadCounters:(id)a0;
- (void)_handleResetEventCounters:(id)a0;
- (void)_handleSaveCounters:(id)a0;
- (void)_handleStartupEphemeralContainer:(id)a0;
- (void)_registerForMessages;
- (id)accessoryForIdentifier:(id)a0;
- (void)addAnalyzer:(id)a0 toListOfAggregationAnalysisEventContributing:(id)a1;
- (void)addConfigurationChangedObserver:(id /* block */)a0;
- (void)addRateTrigger:(id)a0 forEventName:(id)a1 requestGroup:(id)a2 atThreshold:(unsigned long long)a3 windowSize:(unsigned long long)a4;
- (void)addThresholdTrigger:(id)a0 forEventName:(id)a1 requestGroup:(id)a2 atThreshold:(unsigned long long)a3;
- (void)addThresholdTrigger:(id)a0 forEventName:(id)a1 requestGroup:(id)a2 atThreshold:(unsigned long long)a3 uploadImmediately:(BOOL)a4;
- (id)cachedHomeConfigurationForHomeUUID:(id)a0;
- (void)configureHAPMetricsDispatcher:(id)a0;
- (id)homeKitAggregationAnalysisLogEventForDate:(id)a0;
- (void)homeKitConfigurationChanged;
- (id)initWithMessageDispatcher:(id)a0 accountManager:(id)a1 notificationSettingsProvider:(id)a2;
- (id)initWithMessageDispatcher:(id)a0 accountManager:(id)a1 notificationSettingsProvider:(id)a2 logEventDispatcher:(id)a3 dailyScheduler:(id)a4 dateProvider:(id)a5 legacyCountersManager:(id)a6 flagsManager:(id)a7 ewsLogger:(id)a8 deviceStateManager:(id)a9 networkObserver:(id)a10 coreAnalyticsTagObserver:(id)a11 backgroundLoggingTimer:(id)a12 radarInitiator:(id)a13 notificationCenter:(id)a14 userDefaults:(id)a15 currentSoftwareVersion:(id)a16;
- (void)logEventAggregationAnalysisLogEvents;
- (void)notifyConfigurationObserversWithUpdatedEvent:(id)a0;
- (void)resetHomeKitAggregationAnalysisContext;
- (void)runDailyTask;
- (void)saveCounters;
- (void)startAnalyzers;
- (void)submitCurrentUserSettings;
- (void)submitDailyAggregationAnalysisEvents;
- (void)submitHAPMetricsCounters;
- (void)submitResidentSelectionDenominatorEvents;
- (void)updateCachedConfiguration;
- (BOOL)updateCachedWidgetCount;
- (void)waitToCompleteCurrentlyQueuedTasks;

@end
